---
import Stock from "../layouts/Stock.astro";
---

<Stock>

    <div>

        <h1 class="text-5xl">this is the blog</h1>
        <p>I am working on this</p>

    </div>

    <br>
    <hr>
    <br>

    <div><div class="max-w-7xl" id="post-body"></div>


    <script>

    let htmlContent = '';

    async function initPost(){
        //const response = await fetch('https://raw.githubusercontent.com/Procinogen/neocities-blog-posts/refs/heads/main/test-blog-post.astro');
        const response = await fetch('https://raw.githubusercontent.com/Procinogen/neocities-blog-posts/refs/heads/main/blog-test-small.html');
        htmlContent = response.ok ? await response.text() : "No posts found :(";
        loadPost();
    }

    function loadPost() {
            let postBody = document.getElementById('post-body');
            postBody?.insertAdjacentHTML("afterbegin", htmlContent);
    }

    document.addEventListener('astro:page-load', initPost, {once:true})
    document.addEventListener('astro:after-swap', loadPost)

    </script>

</Stock>